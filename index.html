<!DOCTYPE html>

<html>
<head>

    <meta charset="utf-8">
    <meta content="WebRTC code samples" name="description">
    <meta content="width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1" name="viewport">

    <title>SVC Taco</title>
    <style>
        html, body {
            font-family: "Times New Roman", Times, serif;
            height: 100vh;
            width: 100vw;
            padding: 1px;
        }

        video {
            width: 320px;
            height: 240px;
            border: 1px gray;
        }

        button:disabled {
            display: none;
        }

        #videos {
            flex-shrink: 0;
        }

        #environment {
            display: flex;
            width: 100vw;
        }

        #divider {
            width: 1px;
            background-color: slategray;
            margin: 0 16px;
            height: auto;
        }

        #decoder {
            flex-grow: 1;
        }

        #decoder-svc {
            display: flex;
            gap: 20px;
        }

        #decoder-svc:disabled {
            display: none;
        }

    </style>
</head>

<body>

<div id="header">
    <a class="underline hover:no-underline text-xl" href="https://github.com/hypervideo/svc-taco">svc-taco</a>
    <p>
        svc-taco opens a unidirectional WebRTC connection between your local computer and a remote peer. As the
        sender streams SVC-encoded video frames to the receiver, the VideoDecoder intercepts and decodes the encoded
        chunks into VideoFrames.

        <br>
        <br>
        Check your networks tab! There is no network call.
    </p>
</div>

<div id="buttons">
    <button id="startButton">Start (Press 1)</button>
    <button disabled id="callButton">Call (Press 2)</button>
    <button disabled id="hangupButton">Hang Up (Press 3)</button>
</div>

<div id="environment">
    <div id="videos">
        <div>
            <p>WebRTC Sender (Computer)</p>
            <video autoplay id="video1" muted playsinline></video>
        </div>

        <div>
            <p>WebRTC Receiver (Remote Peer)</p>
            <video autoplay id="video2" playsinline></video>
        </div>
    </div>
    <div id="divider"></div>
    <div id="decoder">
        <div>
            <p>Frames Decoded by WebCodec's VideoDecoder</p>
            <video autoplay id="video3" playsinline></video>
        </div>
        <div id="decoder-svc">
            <div>
                <label for="spatial">Spatial Layer:</label>

                <select id="spatial" name="spatial-layers">
                    <option value="3">Layer 3</option>
                    <option value="2">Layer 2</option>
                    <option value="1">Base Layer</option>
                </select>
            </div>
            <div>
                <label for="temporal">Temporal Layer:</label>

                <select id="temporal" name="temporal-layers">
                    <option value="3">Layer 3</option>
                    <option value="2">Layer 2</option>
                    <option value="1">Base Layer</option>
                </select>
            </div>
        </div>
    </div>
</div>

<div>

</div>


<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="js/videopipe.js"></script>
<script async src="js/main.js"></script>

</body>
</html>
